import matplotlib.pyplot as plt
import matplotlib as mpl
if __name__ == '__main__':
    #画成功率实验

    #divide_channel = [0.10674157303370786, 0.20224719101123595, 0.2808988764044944, 0.3651685393258427, 0.449438202247191, 0.5224719101123596, 0.5898876404494382, 0.651685393258427, 0.702247191011236, 0.7415730337078652, 0.7921348314606742, 0.848314606741573, 0.8876404494382022, 0.9157303370786517, 0.949438202247191, 0.9775280898876404, 0.9887640449438202, 1.0]
    #divide_slot = [0.056179775280898875, 0.10112359550561797, 0.15730337078651685, 0.21348314606741572, 0.25280898876404495, 0.30337078651685395, 0.34831460674157305, 0.38764044943820225, 0.4438202247191011, 0.48314606741573035, 0.5224719101123596, 0.5674157303370787, 0.601123595505618, 0.6348314606741573, 0.6741573033707865, 0.7134831460674157, 0.7359550561797753, 0.7808988764044944, 0.8033707865168539, 0.8258426966292135, 0.848314606741573, 0.8707865168539326, 0.8876404494382022, 0.9044943820224719, 0.9101123595505618, 0.9213483146067416, 0.9269662921348315, 0.9325842696629213, 0.949438202247191, 0.9550561797752809, 0.9719101123595506, 0.9775280898876404, 0.9831460674157303, 0.9887640449438202, 0.9943820224719101, 1.0]
    divide_channel = [0,0.033707865168539325, 0.06741573033707865, 0.09550561797752809, 0.12359550561797752, 0.15730337078651685, 0.1853932584269663, 0.21910112359550563, 0.25280898876404495, 0.28651685393258425, 0.3202247191011236, 0.3539325842696629, 0.38202247191011235, 0.4101123595505618, 0.4438202247191011, 0.47752808988764045, 0.5112359550561798, 0.5449438202247191, 0.5786516853932584, 0.6123595505617978, 0.6404494382022472, 0.6741573033707865, 0.7078651685393258, 0.7415730337078652, 0.7752808988764045, 0.8089887640449438, 0.8426966292134831, 0.8764044943820225, 0.9101123595505618, 0.9382022471910112, 0.9606741573033708, 0.9719101123595506, 0.9831460674157303, 0.9943820224719101, 1.0]
    divide_slot = [0,0.016853932584269662, 0.0449438202247191, 0.07865168539325842, 0.10674157303370786, 0.1348314606741573, 0.16853932584269662, 0.19662921348314608, 0.21910112359550563, 0.24719101123595505, 0.2696629213483146, 0.29775280898876405, 0.3258426966292135, 0.34269662921348315, 0.37640449438202245, 0.4044943820224719, 0.43258426966292135, 0.4438202247191011, 0.47752808988764045, 0.5056179775280899, 0.5224719101123596, 0.550561797752809, 0.5842696629213483, 0.601123595505618, 0.6292134831460674, 0.651685393258427, 0.6741573033707865, 0.6910112359550562, 0.7134831460674157, 0.7359550561797753, 0.7528089887640449, 0.7752808988764045, 0.8033707865168539, 0.8202247191011236, 0.8370786516853933, 0.8539325842696629, 0.8707865168539326, 0.8876404494382022, 0.9044943820224719, 0.9213483146067416, 0.9325842696629213, 0.9550561797752809, 0.9662921348314607, 0.9775280898876404, 0.9831460674157303, 0.9943820224719101, 1.0]
    mdcg = [0,0.16853932584269662, 0.3146067415730337, 0.4438202247191011, 0.5280898876404494, 0.6179775280898876, 0.6966292134831461, 0.7640449438202247, 0.8314606741573034, 0.9044943820224719, 0.949438202247191, 0.9775280898876404, 0.9775280898876404, 0.9831460674157303, 0.9943820224719101, 1.0]
    x = [i for i in range(0,47)]
    for i in range(len(divide_slot)-len(mdcg)):
        mdcg.append(1.0)
    for i in range(len(divide_slot)-len(divide_channel)):
        divide_channel.append(1.0)
    plt.rcParams['font.family'] = 'Times New Roman ,SimSun '
    mpl.rcParams['font.sans-serif'] = [u'SimHei']
    mpl.rcParams['axes.unicode_minus'] = False
    fig, ax = plt.subplots()
    ax.tick_params(axis='both', direction='in')
    ax.plot(x, mdcg, '^-',markerfacecolor='none', color='c', label='JCNS', linewidth=1)
    ax.plot(x, divide_channel, 'o-',markerfacecolor='none', color='#FFA500', label='ANC', linewidth=1)
    ax.plot(x, divide_slot, 's-',markerfacecolor='none', color='m', label='CSA', linewidth=1)
    dashed_line = (5, 2)  # 定义虚线样式为每段长度为5、间隔为2的虚线
    plt.grid(True, linestyle='--', linewidth=0.5, dashes=dashed_line)  # 添加虚线网格
    plt.legend()
    plt.xlabel('superframe length (time-slot)')
    plt.ylabel('success rate')
    plt.savefig('D:\\论文资料\\网络共存论文资料\\新的实验结果\\20240221\\success-rate.png', dpi=300,
                bbox_inches='tight')
    plt.show()